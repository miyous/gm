<!DOCTYPE html>
<html class="dark" lang="ar">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sbah el khir 3mri</title>

<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        primary: "#E91E63",
        "background-light": "#F3E5F5",
        "background-dark": "#121212",
      },
      fontFamily: { display: ["Tajawal", "sans-serif"] },
      borderRadius: { DEFAULT: "12px" },
    },
  },
};
</script>

<style>
html, body {
  height: 100%;
  overflow: hidden !important;   /* FIX HERE */
  margin: 0;
  padding: 0;
}

.material-symbols-outlined { font-variation-settings: 'FILL' 1; }
.fade-in { animation: fadeInAnimation 2s ease-in forwards; opacity:0; }
@keyframes fadeInAnimation { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }

.particle { position:absolute; border-radius:50%; background: rgba(255,255,255,0.2); opacity:0; animation:float 20s infinite linear; }
@keyframes float { 
  0% { transform:translateY(100vh) scale(1); opacity:0;} 
  10%,90%{opacity:0.5;} 
  100% { transform:translateY(-10vh) scale(0.5); opacity:0; } 
}

#playPauseBtn {
  transition: all 0.3s ease;
  border-radius: 50%;
  padding: 8px;
}
#playPauseBtn:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}
#progress{
  -webkit-appearance:none;
  appearance:none;
  background:rgba(249, 90, 246, 0.427);
  border-radius:5px;
  height:6px;
  outline:none;
  width:100%;
}
#progress::-webkit-slider-thumb,
#progress::-moz-range-thumb {
  width:16px;
  height:16px;
  border-radius:50%;
  background:#E91E63;
  cursor:pointer;
}
</style>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3E%3Cpath%20fill='%23ff0000'%20d='M12%2021.35l-1.45-1.32C5.4%2015.36%202%2012.28%202%208.5%202%206.01%204.01%204%206.5%204%208.24%204%209.91%204.81%2011%206.09%2012.09%204.81%2013.76%204%2015.5%204%2017.99%204%2020%206.01%2020%208.5c0%203.78-3.4%206.86-8.55%2011.54L12%2021.35z'/%3E%3C/svg%3E">
</head>

<body class="bg-background-light dark:bg-background-dark font-display antialiased">

<div class="relative w-full h-screen mx-auto max-w-md overflow-hidden">  
  <!-- Background -->
  <div class="absolute inset-0 z-0">
    <img id="cover-bg" class="w-full h-full object-cover blur-lg scale-110" src="" alt="">
    <style>#cover-bg {
  filter: blur(4px); /* change 8px to whatever you want */
}</style>
  </div>


  <!-- Particles -->
  <div id="particles-container" class="absolute inset-0 z-10 overflow-hidden"></div>

  <!-- Status -->
  <div id="status" class="absolute top-4 right-4 z-30 text-white text-sm bg-black/50 p-2 rounded">Up in: calculating...</div>

  <!-- Content -->
  <div class="relative z-20 flex flex-col h-full text-white overflow-hidden">
    <main class="flex-grow flex items-center justify-center px-4 overflow-hidden mb-24">  <!-- Added mb-24 to move footer higher -->
      <div class="text-center fade-in">
        <h1 id="daily-message" class="text-3xl md:text-4xl font-light leading-relaxed text-white drop-shadow-lg" dir="rtl"></h1>
      </div>
    </main>

    <!-- Footer -->
    <footer class="p-4 pb-6">
      <div class="bg-white/10 dark:bg-white/5 backdrop-blur-md rounded-lg p-3">
        <input type="range" id="progress" min="0" max="100" value="0" class="mb-3" />
        <div class="flex items-center gap-4">
          <img id="album-art" class="w-14 h-14 rounded-md object-cover" src="" alt="">
          <div class="flex-1">
            <p id="song-title" class="font-bold text-sm text-white"></p>
            <p id="song-artist" class="text-xs text-white/70"></p>
          </div>
          <button id="playPauseBtn">
            <span class="material-symbols-outlined text-4xl">play_circle</span>
          </button>
        </div>
      </div>
      <style>
        .pb-6{padding-bottom: 7rem;}
      </style>
    </footer>
  </div>
</div>

<script>
// Particles
const container=document.getElementById('particles-container');
for(let i=0;i<20;i++){
  const p=document.createElement('div');
  p.classList.add('particle');
  const size=Math.random()*5+1; 
  p.style.width=p.style.height=`${size}px`;
  p.style.left=`${Math.random()*100}%`;
  p.style.animationDuration=`${Math.random()*15+10}s`;
  p.style.animationDelay=`-${Math.random()*20}s`;
  container.appendChild(p);
}

const songs=[
    {song:"songs/lovestory.mp3", cover:"images/4.jpg", message:"Je serai riche et .. Je t'offrirai tout mon or et .. si tu t'en fiches .. Je t'attendrai sur le port .. et si tu m'ignore Je .. t'offrirai mon dernier souffle de vie", title:"Love Story", artist:"Indila"},
    {song:"songs/sayyestoheaven.mp3", cover:"images/2.jpg", message:"In the storm I stay clear cuz .. I've got my eye on you", title:"Say yes to heaven", artist:"Lana del rey"},
    {song:"songs/thenightwemet.mp3", cover:"images/1.jpg", message:"When the night was full of terrors .. And your eyes were filled with tears .. When you had not touched me yet .. Oh, take me back to the night we met", title:"The night we met", artist:"Lord Huron"},
    {song:"songs/youngandbeautiful.mp3", cover:"images/3.jpg", message:"WAHH beyna!!", title:"Young and beautiful", artist:"Lana del rey"},
    {song:"songs/megustastu", cover:"images/4.jpg", message:"Me gusta soñar .. me gustas tú", title:"Me gustas tu", artist:"Manu chao"},
    {song:"songs/elhalelsa3b.mp3", cover:"images/3.jpg", message:"لا تتردد في غرامي .. يا تجيني حب .. يا تودعني راحل", title:"الحل الصعب", artist:"ali abdellah"},
    {song:"songs/lawro7ti.mp3", cover:"images/5.jpg", message:"انا ما بنسى .. قلب الغالي بيبقى قبالي لو مهما يغيب", title:"لو رحتي بضلي بقلبي", artist:"Ouadi' Omar"},
    {song:"songs/absher.mp3", cover:"images/1.jpg", message:"ابشر من عيوني الثنتين .. مثلك تلبى مطاليبه .. والقلب ما يسكنه شخصين .. واحد و يكفي تعذيبه", title:"ابشر من عيوني", artist:"ali abdellah"},

];

const startDate=new Date("2025-11-17T05:00:00");
let index=Math.floor((new Date()-startDate)/(1000*60*60*24))%songs.length;

const audio=new Audio();
audio.volume=0.5;
audio.loop=true;

function loadSong(i){
  audio.src=songs[i].song;
  document.getElementById("cover-bg").src=songs[i].cover;
  document.getElementById("album-art").src=songs[i].cover;
  document.getElementById("daily-message").textContent=songs[i].message;
  document.getElementById("song-title").textContent=songs[i].title;
  document.getElementById("song-artist").textContent=songs[i].artist;
}

function playAudio(){ 
  audio.play(); 
  playPauseBtn.innerHTML='<span class="material-symbols-outlined text-4xl">pause_circle</span>';
}
function pauseAudio(){ 
  audio.pause(); 
  playPauseBtn.innerHTML='<span class="material-symbols-outlined text-4xl">play_circle</span>';
}

const progress=document.getElementById("progress");
audio.addEventListener("timeupdate",()=>{
  if(audio.duration){
    progress.value=(audio.currentTime/audio.duration)*100;
  }
});
progress.addEventListener("input",()=>{
  audio.currentTime=(progress.value/100)*audio.duration;
});
playPauseBtn.addEventListener("click",()=> audio.paused? playAudio():pauseAudio());

function getTimeDiff() {
  const now = new Date();
  const diff = now - startDate;   // <-- هذي أهم حاجة: الوقت لي فات

  if (diff < 0) return "Not started yet";

  const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
  const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
  const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30)) / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

  let str = "";
  if (years > 0) str += years + " years ";
  if (months > 0) str += months + " months ";
  if (days > 0) str += days + " days ";
  if (hours > 0) str += hours + " hours ";
  if (mins > 0) str += mins + " mins ";

  return str.trim();
}


function updateStatus() {
  document.getElementById("status").textContent = "Up since: " + getTimeDiff();
}

loadSong(index);
updateStatus();
setInterval(updateStatus, 60000);  // Update every minute
</script>

</body>
</html>
